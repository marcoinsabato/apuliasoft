import{Q as h,C as f,h as y,k as v,s as k,f as a,a as _,u as w,b as t,F as n,D as c,o as s,Z as A,n as D,i as T,v as q,d as F,t as d,E as V}from"./app-Byam9h5W.js";const W={class:"bg-gray-50 text-black/50 dark:bg-black dark:text-white/50 min-h-screen"},B={class:"container mx-auto flex flex-col gap-y-6 pt-10"},C={class:"flex gap-x-2 items-center",id:"buttonsWrapper"},E=["for"],N=["name","value","id"],S={class:"relative overflow-x-auto",id:"tableWrapper"},j={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},z={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},I={scope:"col",class:"px-6 py-3 font-medium"},M={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},O={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},L={__name:"Welcome",props:{activities:{type:Array,required:!0},avaiableAggregations:{type:Array,required:!0}},setup(u){const p=h().props.ziggy.query,l=f({aggregations:p.aggregations||[]}),g=y(()=>Object.keys(u.activities[0])),m=r=>l.aggregations.includes(r),b=r=>new Intl.DateTimeFormat("it-IT",{day:"numeric",month:"short",year:"numeric"}).format(new Date(r)),x=(r,o)=>{let e;return function(...i){clearTimeout(e),e=setTimeout(()=>r.apply(this,i),o)}};return v(()=>{u.activities.forEach(r=>{r.date&&(r.date=b(r.date))})}),k(l,x(()=>{V.get(route("home",[p,l]),{preserveScroll:!0,preserveState:!0,replace:!0})},300)),(r,o)=>(s(),a(n,null,[_(w(A),{title:"Welcome"}),t("div",W,[t("div",B,[o[2]||(o[2]=t("h1",{class:"text-3xl font-bold text-center"},"Table with Activities",-1)),t("div",C,[o[1]||(o[1]=t("h2",{class:"block text-lg"}," Aggrega le attivita' in base alle seguenti categorie: ",-1)),(s(!0),a(n,null,c(u.avaiableAggregations,e=>(s(),a("label",{for:e,class:D(["relative inline-flex items-center cursor-pointer text-white hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center dark:hover:bg-purple-700 dark:focus:ring-purple-900 border border-purple-700 dark:border-purple-600",{"bg-purple-700 dark:bg-purple-600":m(e)}])},[T(t("input",{type:"checkbox",name:e,value:e,"onUpdate:modelValue":o[0]||(o[0]=i=>l.aggregations=i),id:e,class:"hidden"},null,8,N),[[q,l.aggregations]]),F(" "+d(e),1)],10,E))),256))]),t("div",S,[t("table",j,[t("thead",z,[t("tr",null,[(s(!0),a(n,null,c(g.value,e=>(s(),a("th",I,d(e),1))),256))])]),t("tbody",null,[(s(!0),a(n,null,c(u.activities,e=>(s(),a("tr",M,[(s(!0),a(n,null,c(Object.keys(e),i=>(s(),a("td",O,d(e[i]),1))),256))]))),256))])])])])])],64))}};export{L as default};
