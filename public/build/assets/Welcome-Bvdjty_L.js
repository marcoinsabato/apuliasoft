import{o as t,f as a,b as e,F as d,C as g,t as p,m,k as _,l as A,n as V,i as k,p as $,v as q,Q as C,D as S,h as z,s as B,a as x,u as D,Z as E,E as L}from"./app-DubsPMEB.js";const O={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 table-auto"},j={class:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"},F={scope:"col",class:"px-6 py-3 font-medium"},M={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},U={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},W={__name:"Table",props:{headers:{type:Array,required:!0},data:{type:Array,required:!0}},setup(s){return(h,i)=>(t(),a("table",O,[e("thead",j,[e("tr",null,[(t(!0),a(d,null,g(s.headers,r=>(t(),a("th",F,p(r),1))),256))])]),e("tbody",null,[(t(!0),a(d,null,g(s.data,r=>(t(),a("tr",M,[(t(!0),a(d,null,g(Object.keys(r),l=>(t(),a("td",U,p(r[l]),1))),256))]))),256))])]))}},N=["aria-expanded"],T={class:"flex items-center gap-2"},H={key:1},P={class:"absolute right-3 top-1/2 -translate-y-1/2","aria-hidden":"true"},Q={class:"absolute z-10 mt-1 w-full overflow-hidden rounded-lg border border-slate-300 bg-white shadow-md dark:border-slate-600 dark:bg-slate-900",id:"tags-dropdown"},Z={class:"max-h-96 overflow-y-auto"},G=["for","aria-selected"],I=["id","checked","aria-checked","value"],J={class:"pointer-events-none capitalize"},K={__name:"Multiselect",props:{options:{type:Array,required:!0},placeholder:{type:String,required:!1,default:"Select options"},modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(s,{emit:h}){const i=h,r=m(s.modelValue),l=m(!1),u=m(null);function n(){l.value=!l.value,l.value||y()}function c(b){return s.modelValue.includes(b)}function f(b){u.value.contains(b.target)||(y(),l.value=!1)}function y(){i("update:modelValue",r.value)}return _(()=>{window.addEventListener("click",f)}),A(()=>{window.removeEventListener("click",f)}),(b,v)=>(t(),a("div",null,[e("div",{class:"relative min-w-96","aria-haspopup":"listbox",role:"combobox","aria-expanded":l.value},[e("div",{ref_key:"boxContainer",ref:u},[e("button",{onClick:n,class:"relative flex w-full items-center rounded-lg border border-slate-300 bg-white px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 dark:border-slate-600 dark:bg-slate-900","aria-controls":"tags-dropdown","aria-labelledby":"tags-label"},[e("div",T,[r.value.length>0?(t(!0),a(d,{key:0},g(r.value,o=>(t(),a("span",{key:o,class:"inline-flex items-center rounded bg-purple-100 px-2 py-0.5 text-xs font-medium dark:bg-purple-500 capitalize dark:text-white"},p(o),1))),128)):(t(),a("p",H,p(s.placeholder),1))]),e("span",P,[(t(),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:V(["size-6 transition-transform duration-500",l.value?"rotate-180":"rotate-0 "])},v[1]||(v[1]=[e("path",{d:"m6 9 6 6 6-6"},null,-1)]),2))])]),k(e("div",Q,[e("div",Z,[(t(!0),a(d,null,g(s.options,o=>(t(),a("label",{key:o,for:o,class:"flex cursor-pointer items-center gap-3 px-3 py-2 hover:bg-purple-500 hover:text-white focus:outline-none",role:"option","aria-selected":c(o),tabindex:"0"},[k(e("input",{type:"checkbox",id:o,checked:c(o),class:"size-4 cursor-pointer accent-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-400","aria-checked":c(o),value:o,"onUpdate:modelValue":v[0]||(v[0]=w=>r.value=w)},null,8,I),[[q,r.value]]),e("span",J,p(o),1)],8,G))),128))]),e("div",{class:"border-t border-slate-300 px-3 py-2 text-right dark:border-slate-600"},[e("button",{onClick:n,class:"rounded-md bg-purple-500 px-3 py-1 text-white hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-300"}," Aggrega ")])],512),[[$,l.value]])],512)],8,N)]))}},R={class:"bg-gray-50 text-black/50 dark:bg-gray-900 dark:text-white/50 min-h-screen"},X={class:"container mx-auto flex flex-col gap-y-6 pt-10 px-2"},Y={class:"relative overflow-x-auto",id:"tableWrapper"},te={__name:"Welcome",props:{activities:{type:Array,required:!0},avaiableAggregations:{type:Array,required:!0}},setup(s){const h=C().props.ziggy.query,i=S({aggregations:h.aggregations||[]}),r=z(()=>Object.keys(s.activities[0])),l=u=>{i.aggregations=u};return B(i,()=>{L.get(route("home",[i]),{preserveScroll:!0,preserveState:!0,replace:!0})}),(u,n)=>(t(),a(d,null,[x(D(E),{title:"Welcome"}),e("div",R,[e("div",X,[n[2]||(n[2]=e("h1",{class:"text-3xl font-bold text-center"},"Table with Activities",-1)),e("div",null,[n[1]||(n[1]=e("h2",{class:"block text-lg mb-2"}," Aggrega le attivita' in base alle seguenti categorie: ",-1)),e("div",null,[x(K,{options:s.avaiableAggregations,placeholder:"Select Aggregations",modelValue:i.aggregations,"onUpdate:modelValue":n[0]||(n[0]=c=>l(c))},null,8,["options","modelValue"])])]),e("div",Y,[x(W,{headers:r.value,data:s.activities},null,8,["headers","data"])])])])],64))}};export{te as default};
